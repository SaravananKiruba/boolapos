<mah:MetroWindow x:Class="Page_Navigation_App.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:mah="http://metro.mahapps.com/winfx/xaml/controls"
        xmlns:iconPacks="http://metro.mahapps.com/winfx/xaml/iconpacks"
        xmlns:local="clr-namespace:Page_Navigation_App"
        mc:Ignorable="d"
        Title="Boola POS System" 
        Height="720" 
        Width="1280"
        WindowStartupLocation="CenterScreen"
        Background="{StaticResource BackgroundBrush}"
        GlowBrush="{StaticResource PrimaryBrush}"
        BorderThickness="1"
        NonActiveGlowBrush="{StaticResource SurfaceBrush}"
        TitleCharacterCasing="Normal"
        TitleForeground="{StaticResource TextPrimaryBrush}"
        WindowTitleBrush="{StaticResource SurfaceBrush}"
        WindowButtonCommandsOverlayBehavior="Never"
        SaveWindowPosition="True">

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="250"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Left Navigation Panel -->
        <Border Background="{StaticResource SurfaceBrush}"
                CornerRadius="0 15 15 0">
            <Border.Effect>
                <DropShadowEffect BlurRadius="10" ShadowDepth="2" Direction="0" Color="#40000000"/>
            </Border.Effect>
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="80"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="60"/>
                </Grid.RowDefinitions>

                <!-- Logo & Title -->
                <StackPanel Orientation="Horizontal" 
                          HorizontalAlignment="Center" 
                          VerticalAlignment="Center">
                    <iconPacks:PackIconMaterial Kind="StorefrontOutline"
                                               Width="32"
                                               Height="32"
                                               Margin="0 0 10 0"
                                               Foreground="{StaticResource PrimaryBrush}"/>
                    <TextBlock Text="Boola POS"
                             Foreground="{StaticResource PrimaryBrush}"
                             FontSize="24"
                             FontWeight="Bold"/>
                </StackPanel>

                <!-- Navigation Buttons -->
                <ScrollViewer Grid.Row="1" 
                            VerticalScrollBarVisibility="Auto"
                            mah:ScrollViewerHelper.IsHorizontalScrollWheelEnabled="False">
                    <StackPanel>
                        <mah:Tile Title="Home"
                               Command="{Binding HomeCommand}"
                               Background="Transparent"
                               mah:ControlsHelper.CornerRadius="8"
                               Height="50"
                               Margin="10,5">
                            <iconPacks:PackIconMaterial Kind="Home" 
                                                       Width="22" 
                                                       Height="22"/>
                        </mah:Tile>

                        <mah:Tile Title="Customers"
                               Command="{Binding CustomersCommand}"
                               Background="Transparent"
                               mah:ControlsHelper.CornerRadius="8"
                               Height="50"
                               Margin="10,5">
                            <iconPacks:PackIconMaterial Kind="AccountGroup" 
                                                       Width="22" 
                                                       Height="22"/>
                        </mah:Tile>

                        <mah:Tile Title="Products"
                               Command="{Binding ProductsCommand}"
                               Background="Transparent"
                               mah:ControlsHelper.CornerRadius="8"
                               Height="50"
                               Margin="10,5">
                            <iconPacks:PackIconMaterial Kind="Package" 
                                                       Width="22" 
                                                       Height="22"/>
                        </mah:Tile>

                        <mah:Tile Title="Orders"
                               Command="{Binding OrdersCommand}"
                               Background="Transparent"
                               mah:ControlsHelper.CornerRadius="8"
                               Height="50"
                               Margin="10,5">
                            <iconPacks:PackIconMaterial Kind="CartOutline" 
                                                       Width="22" 
                                                       Height="22"/>
                        </mah:Tile>

                        <mah:Tile Title="Transactions"
                               Command="{Binding TransactionsCommand}"
                               Background="Transparent"
                               mah:ControlsHelper.CornerRadius="8"
                               Height="50"
                               Margin="10,5">
                            <iconPacks:PackIconMaterial Kind="CashRegister" 
                                                       Width="22" 
                                                       Height="22"/>
                        </mah:Tile>

                        <mah:Tile Title="Rate Master"
                               Command="{Binding RateMasterCommand}"
                               Background="Transparent"
                               mah:ControlsHelper.CornerRadius="8"
                               Height="50"
                               Margin="10,5">
                            <iconPacks:PackIconMaterial Kind="ChartLineVariant" 
                                                       Width="22" 
                                                       Height="22"/>
                        </mah:Tile>

                        <mah:Tile Title="Repair Jobs"
                               Command="{Binding RepairJobsCommand}"
                               Background="Transparent"
                               mah:ControlsHelper.CornerRadius="8"
                               Height="50"
                               Margin="10,5">
                            <iconPacks:PackIconMaterial Kind="Tools" 
                                                       Width="22" 
                                                       Height="22"/>
                        </mah:Tile>

                        <mah:Tile Title="Settings"
                               Command="{Binding SettingsCommand}"
                               Background="Transparent"
                               mah:ControlsHelper.CornerRadius="8"
                               Height="50"
                               Margin="10,5">
                            <iconPacks:PackIconMaterial Kind="Cog" 
                                                       Width="22" 
                                                       Height="22"/>
                        </mah:Tile>
                    </StackPanel>
                </ScrollViewer>

                <!-- Logout Button -->
                <Button Grid.Row="2"
                        Style="{StaticResource MahApps.Styles.Button.Flat}"
                        Height="40"
                        Margin="20,10"
                        Command="{Binding LogoutCommand}"
                        mah:ControlsHelper.CornerRadius="8">
                    <StackPanel Orientation="Horizontal">
                        <iconPacks:PackIconMaterial Kind="Logout" 
                                                   Width="22" 
                                                   Height="22"/>
                        <TextBlock Text="Logout" 
                                 Margin="10 0"/>
                    </StackPanel>
                </Button>
            </Grid>
        </Border>

        <!-- Main Content Area -->
        <Border Grid.Column="1"
                Background="{StaticResource BackgroundBrush}"
                Margin="20">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <!-- Top Bar -->
                <Grid Height="60">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <!-- Page Title -->
                    <TextBlock Text="{Binding CurrentView}"
                             FontSize="24"
                             FontWeight="Medium"
                             Foreground="{StaticResource TextPrimaryBrush}"
                             VerticalAlignment="Center"/>

                    <!-- User Profile -->
                    <StackPanel Grid.Column="1" 
                              Orientation="Horizontal" 
                              VerticalAlignment="Center">
                        <TextBlock Text="{Binding CurrentUser}"
                                 Foreground="{StaticResource TextSecondaryBrush}"
                                 VerticalAlignment="Center"
                                 Margin="0 0 10 0"/>
                        <Button Style="{StaticResource MahApps.Styles.Button.Circle}"
                                Width="40"
                                Height="40"
                                Padding="0"
                                BorderThickness="0">
                            <iconPacks:PackIconMaterial Kind="AccountCircle"
                                                     Width="24"
                                                     Height="24"
                                                     Foreground="{StaticResource PrimaryBrush}"/>
                        </Button>
                    </StackPanel>
                </Grid>

                <!-- Main Content -->
                <mah:TransitioningContentControl Grid.Row="1"
                                               Content="{Binding CurrentView}"
                                               Transition="Left"/>
            </Grid>
        </Border>
    </Grid>
</mah:MetroWindow>
